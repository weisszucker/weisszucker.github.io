名可名也，非恒名也。

# 简单摘要C++中右值

有名有值，即为左值。有值无名，即为右值。

有名即为存在指向值的指针。此时值保存在内存中。

**右值的概念来源于对函数返回值的描述**
- 小的函数返回值可以直接保存在寄存器中，此时即为纯右值(prvalue)
- 不能保存在寄存器中的值，划分一块临时内存空间保存返回值，此时为将亡值(xvalue)

## 右值引用

将亡值仅用来临时保存值，因此不需要占有资源，可以直接将资源**转移**给用来接收将亡值的左值，避免拷贝。
为了能够让函数区分这种情况和普通情况，C++使用右值引用的语义来匹配将亡值。

```cpp
void use_foo(Foo foo);
void use_foo(Foo&& foo);
```

foo用来接收右值，此时右值已经有了名字，即foo。所以**右值引用实际上是左值**。

## std::move

某些情况我们希望传入一个左值，但是能够匹配到右值引用的函数实现。为此我们
需要使用`std::move`来将普通的左值cast成右值引用。所以`std::move`实际上
仅仅是左值一个表达类型的cast，不涉及资源的转移。